<!DOCTYPE html>
<html lang="fa" dir="rtl">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="./assets/css/style.css" />
    <!-- <link rel="preconnect" href="//fdn.fontcdn.ir">
    <link rel="preconnect" href="//v1.fontapi.ir">
    <link href="https://v1.fontapi.ir/css/Estedad" rel="stylesheet"> -->
    <title>کدام؟</title>
  </head>
  <body>
    <!-- Button White -->
    <button onclick="submitChoice()" class="active" id="btnWhite">
      <h2>ویندوز</h2>
      <span></span>
    </button>
    <!-- Button Dark -->
    <button onclick="submitChoice()" class="active" id="btnDark">
      <h2>لینوکس</h2>
      <span></span>
    </button>

    <button id="btnNext">بعدی</button>
  </body>

  <script>
    // Get Number Of Counts From DB
    let whiteCount = 72;
    let darkCount = 150;
    // DOM Elements
    let btnDark = document.querySelector("#btnDark");
    let btnWhite = document.querySelector("#btnWhite");

    let submitChoice = () => {
      // Calculate Percentage & All Votes
      let allCount = whiteCount + darkCount;
      let whitePerc = Math.round(whiteCount / (allCount / 100));
      let DarkPerc = Math.round(darkCount / (allCount / 100));
      // Change Width & Hover Effect Class
      btnDark.classList.remove("active");
      btnWhite.classList.remove("active");
      btnDark.style.width = DarkPerc + "%";
      btnWhite.style.width = whitePerc + "%";
      // Enter Percentage In Span
      btnDark.children[1].innerHTML = DarkPerc + "%";
      btnWhite.children[1].innerHTML = whitePerc + "%";
    };
  </script>
</html>
